{"ast":null,"code":"const initialState = {\n  players: [{\n    name: \"John\",\n    pv: 100,\n    pvMax: 100,\n    mana: 30,\n    manaMax: 30,\n    id: 1,\n    abilities: [{\n      name: \"Frapper\",\n      damage: 10,\n      manaCost: 15,\n      type: \"damage\"\n    }, {\n      name: \"Guérir\",\n      heal: +10,\n      manaCost: 10,\n      type: \"heal\"\n    }, {\n      name: \"Lancer Attaque Special\",\n      damage: 15,\n      manaCost: 30,\n      type: \"fireBall\"\n    }, {\n      name: \"Recuperation Mana\",\n      mana: 30,\n      manaCost: +30,\n      type: \"mana\"\n    }]\n  }, {\n    name: \"Jack\",\n    pv: 100,\n    pvMax: 100,\n    mana: 30,\n    manaMax: 30,\n    id: 2,\n    abilities: [{\n      name: \"Frapper\",\n      damage: 10,\n      manaCost: 15,\n      type: \"damage\"\n    }, {\n      name: \"Guérir\",\n      heal: +10,\n      manaCost: 10,\n      type: \"heal\"\n    }, {\n      name: \"Lancer Attaque Special\",\n      damage: 15,\n      manaCost: 30,\n      type: \"fireBall\"\n    }, {\n      name: \"Recuperation Mana\",\n      mana: +30,\n      manaCost: 30,\n      type: \"mana\"\n    }]\n  }, {\n    name: \"Jessy\",\n    pv: 100,\n    pvMax: 100,\n    mana: 30,\n    manaMax: 30,\n    id: 3,\n    abilities: [{\n      name: \"Frapper\",\n      damage: 10,\n      manaCost: 15,\n      type: \"damage\"\n    }, {\n      name: \"Guérir\",\n      heal: +10,\n      manaCost: 10,\n      type: \"heal\"\n    }, {\n      name: \"Lancer Attaque Special\",\n      damage: 15,\n      manaCost: 30,\n      type: \"fireBall\"\n    }, {\n      name: \"Recuperation Mana\",\n      mana: +30,\n      manaCost: 30,\n      type: \"mana\"\n    }]\n  }, {\n    name: \"Jenny\",\n    pv: 100,\n    pvMax: 100,\n    mana: 30,\n    manaMax: 30,\n    id: 4,\n    abilities: [{\n      name: \"Frapper\",\n      damage: 10,\n      manaCost: 15,\n      type: \"damage\"\n    }, {\n      name: \"Guérir\",\n      heal: +10,\n      manaCost: 10,\n      type: \"heal\"\n    }, {\n      name: \"Lancer Attaque Special\",\n      damage: 15,\n      manaCost: 30,\n      type: \"fireBall\"\n    }, {\n      name: \"Recuperation Mana\",\n      mana: +30,\n      manaCost: 30,\n      type: \"mana\"\n    }]\n  }],\n  monster: {\n    pv: 800,\n    pvMax: 800\n  },\n  currentTurnPlayer: 1\n};\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"HIT_MONSTER\":\n      return {\n        ...state,\n        monster: {\n          ...state.monster,\n          pv: Math.max(state.monster.pv - action.payload, 0) // Assurez-vous que les pv ne deviennent pas négatifs\n        }\n      };\n    case \"HIT_PLAYER\":\n      const {\n        damage,\n        playerId\n      } = action.payload;\n      return {\n        ...state,\n        players: state.players.map(player => player.id === playerId ? {\n          ...player,\n          pv: Math.max(Math.min(player.pv - damage, player.pvMax), 0) // Limitez les pv entre 0 et pvMax\n        } : player)\n      };\n    case \"HEAL_PLAYER\":\n      const {\n        healPlayer\n      } = action.payload;\n      return {\n        ...state,\n        players: state.players.map(player => {\n          if (player.id === healPlayer.id) {\n            return {\n              ...player,\n              pv: Math.min(player.pv + healPlayer.heal, player.pvMax) // Limitez les pv à pvMax\n            };\n          }\n          return player;\n        })\n      };\n    case \"FIRE_BALL\":\n      const {\n        fireBall\n      } = action.payload;\n      return {\n        ...state,\n        players: state.players.map(player => {\n          if (player.id === fireBall.id) {\n            const updatedMana = Math.max(player.mana - fireBall.manaCost, 0);\n            return {\n              ...player,\n              pv: Math.max(player.pv - fireBall.damage, 0),\n              // Assurez-vous que les pv ne deviennent pas négatifs\n              mana: updatedMana\n            };\n          }\n          return player;\n        }),\n        monster: {\n          ...state.monster,\n          pv: Math.max(state.monster.pv - fireBall.damage, 0) // Assurez-vous que les pv du monstre ne deviennent pas négatifs\n        }\n      };\n    case \"MANA_PLAYER\":\n      const {\n        manaPlayer\n      } = action.payload;\n      return {\n        ...state,\n        players: state.players.map(player => {\n          if (player.id === manaPlayer.id) {\n            return {\n              ...player,\n              mana: Math.min(player.mana + manaPlayer.mana, player.manaMax) // Limitez la mana à manaMax\n            };\n          }\n          return player;\n        })\n      };\n    case \"NEXT_TURN\":\n      const currentPlayer = state.currentTurnPlayer;\n      const nextPlayer = (currentPlayer + 1) % state.players.length;\n      return {\n        ...state,\n        currentTurnPlayer: nextPlayer,\n        players: state.players.map((player, index) => ({\n          ...player,\n          canPlay: index === nextPlayer // Seul le prochain joueur peut jouer\n        }))\n      };\n    default:\n      return state;\n  }\n}\nexport default rootReducer;","map":{"version":3,"names":["initialState","players","name","pv","pvMax","mana","manaMax","id","abilities","damage","manaCost","type","heal","monster","currentTurnPlayer","rootReducer","state","action","Math","max","payload","playerId","map","player","min","healPlayer","fireBall","updatedMana","manaPlayer","currentPlayer","nextPlayer","length","index","canPlay"],"sources":["/home/g404/Documents/random-rumble/src/store/rootReducer.js"],"sourcesContent":["const initialState = {\n  players: [\n    {\n      name: \"John\",\n      pv: 100,\n      pvMax: 100,\n      mana: 30,\n      manaMax: 30,\n      id: 1,\n      abilities: [\n        { name: \"Frapper\", damage: 10, manaCost: 15, type: \"damage\" },\n        { name: \"Guérir\", heal: +10, manaCost: 10, type: \"heal\" },\n        { name: \"Lancer Attaque Special\", damage: 15, manaCost: 30, type: \"fireBall\" },\n        { name: \"Recuperation Mana\", mana: 30, manaCost: +30, type: \"mana\" }\n      ],\n    },\n    {\n      name: \"Jack\",\n      pv: 100,\n      pvMax: 100,\n      mana: 30,\n      manaMax: 30,\n      id: 2,\n      abilities: [\n        { name: \"Frapper\", damage: 10, manaCost: 15, type: \"damage\" },\n        { name: \"Guérir\", heal: +10, manaCost: 10, type: \"heal\" },\n        { name: \"Lancer Attaque Special\", damage: 15, manaCost: 30, type: \"fireBall\" },\n        { name: \"Recuperation Mana\", mana: +30, manaCost: 30, type: \"mana\" }\n      ],\n    },\n    {\n      name: \"Jessy\",\n      pv: 100,\n      pvMax: 100,\n      mana: 30,\n      manaMax: 30,\n      id: 3,\n      abilities: [\n        { name: \"Frapper\", damage: 10, manaCost: 15, type: \"damage\" },\n        { name: \"Guérir\", heal: +10, manaCost: 10, type: \"heal\" },\n        { name: \"Lancer Attaque Special\", damage: 15, manaCost: 30, type: \"fireBall\" },\n        { name: \"Recuperation Mana\", mana: +30, manaCost: 30, type: \"mana\" }\n\n      ],\n    },\n    {\n      name: \"Jenny\",\n      pv: 100,\n      pvMax: 100,\n      mana: 30,\n      manaMax: 30,\n      id: 4,\n      abilities: [\n        { name: \"Frapper\", damage: 10, manaCost: 15, type: \"damage\" },\n        { name: \"Guérir\", heal: +10, manaCost: 10, type: \"heal\" },\n        { name: \"Lancer Attaque Special\", damage: 15, manaCost: 30, type: \"fireBall\" },\n        { name: \"Recuperation Mana\", mana: +30, manaCost: 30, type: \"mana\" }\n\n      ],\n    },\n  ],\n\n  monster: {\n    pv: 800,\n    pvMax: 800,\n  },\n  currentTurnPlayer: 1,\n};\n\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"HIT_MONSTER\":\n      return {\n        ...state,\n        monster: {\n          ...state.monster,\n          pv: Math.max(state.monster.pv - action.payload, 0), // Assurez-vous que les pv ne deviennent pas négatifs\n        },\n      };\n\n    case \"HIT_PLAYER\":\n      const { damage, playerId } = action.payload;\n      return {\n        ...state,\n        players: state.players.map((player) =>\n          player.id === playerId\n            ? {\n                ...player,\n                pv: Math.max(Math.min(player.pv - damage, player.pvMax), 0), // Limitez les pv entre 0 et pvMax\n              }\n            : player\n        ),\n      };\n\n    case \"HEAL_PLAYER\":\n      const { healPlayer } = action.payload;\n      return {\n        ...state,\n        players: state.players.map((player) => {\n          if (player.id === healPlayer.id) {\n            return {\n              ...player,\n              pv: Math.min(player.pv + healPlayer.heal, player.pvMax), // Limitez les pv à pvMax\n            };\n          }\n          return player;\n        }),\n      };\n\n    case \"FIRE_BALL\":\n      const { fireBall } = action.payload;\n      return {\n        ...state,\n        players: state.players.map((player) => {\n          if (player.id === fireBall.id) {\n            const updatedMana = Math.max(player.mana - fireBall.manaCost, 0);\n            return {\n              ...player,\n              pv: Math.max(player.pv - fireBall.damage, 0), // Assurez-vous que les pv ne deviennent pas négatifs\n              mana: updatedMana,\n            };\n          }\n          return player;\n        }),\n        monster: {\n          ...state.monster,\n          pv: Math.max(state.monster.pv - fireBall.damage, 0), // Assurez-vous que les pv du monstre ne deviennent pas négatifs\n        },\n      };\n\n    case \"MANA_PLAYER\":\n      const { manaPlayer } = action.payload;\n      return {\n        ...state,\n        players: state.players.map((player) => {\n          if (player.id === manaPlayer.id) {\n            return {\n              ...player,\n              mana: Math.min(player.mana + manaPlayer.mana, player.manaMax), // Limitez la mana à manaMax\n            };\n          }\n          return player;\n        }),\n      };\n\n      case \"NEXT_TURN\":\n        const currentPlayer = state.currentTurnPlayer;\n        const nextPlayer = (currentPlayer + 1) % state.players.length;\n  \n        return {\n          ...state,\n          currentTurnPlayer: nextPlayer,\n          players: state.players.map((player, index) => ({\n            ...player,\n            canPlay: index === nextPlayer, // Seul le prochain joueur peut jouer\n          })),\n        };\n  \n        \n\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}